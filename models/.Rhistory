plotting(d = data, foc = 1.99)
plotting <- function(d, foc) {
df <-
bind_rows(d, d %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og"))
df_foc <- df %>%
filter(t_h == 15*foc + 6.359762, new == "og")
ggplot(data = df, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
}
data <- model_simp(results[["H15_V0.25_L1.488_F1.99_S1"]])
plotting(d = data, foc = 1.99)
plotting_f(d = data, foc = 1.99)
plotting_f <- function(d, foc) {
df <-
bind_rows(d, d %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og"))
df_no_foc <- df %>%
filter(t_h != 15*foc + 6.359762)
df_foc <- df %>%
filter(t_h == 15*foc + 6.359762, new == "og")
ggplot(data = df_no_foc, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
}
plotting_f(d = data, foc = 1.99)
data <- model_simp(results[["H15_V0.1_L1.488_F1.99_S1"]])
plotting_f(d = data, foc = 1.99)
plotting(d = data, foc = 1.99)
plotting_f(d = data, foc = 1.99)
plotting(d = data, foc = 1.99)
data <- model_simp(results[["H15_V0.1_L1.488_F1.5_S1"]])
plotting_f(d = data, foc = 1.5)
plotting(d = data, foc = 1.5)
data <- model_simp(results[["H15_V0.1_L0.466_F1.5_S1"]])
plotting_f(d = data, foc = 1.5)
plotting(d = data, foc = 1.5)
View(results)
model_results <- results[[combinations$path[1]]]
results[[combinations$path[1]]]
combinations$path[1]
model_results <- results[[basename(combinations$path[1])]]
View(model_results)
model_results <- results[[basename(combinations$path[1])]]  %>%
purrr::map(model_simp)
model_results <- results[[basename(combinations$path[1])]] %>%
model_simp()
View(model_results)
model_results <- results[[basename(combinations$path[1:10])]] %>%
purrr::map(model_simp)
model_results <- results[[basename(combinations$path[1::nrow(combinations)])]] %>%
purrr::map(model_simp)
model_results <- results[[basename(combinations$path[1::nrow(combinations)])]] %>%
purrr::map(model_simp())
data <- model_simp(results[["H15_V0.1_L2.916_F1.5_S1"]])
plotting_f(d = data, foc = 1.5)
plotting(d = data, foc = 1.5)
data <- model_simp(results[["H15_V0.25_L2.916_F1.5_S1"]])
plotting_f(d = data, foc = 1.5)
plotting(d = data, foc = 1.5)
model_results <- results[[basename(combinations$path[1:nrow(combinations)])]] %>%
purrr::map(model_simp)
results[[basename(combinations$path[1:nrow(combinations)])]]
results[[basename(combinations$path[1])]]
model_results <- results[[basename(combinations$path[1:10])]] %>%
purrr::map(model_simp)
model_results <- results[[basename(combinations$path[1])]] %>%
purrr::map(model_simp)
model_results <- results[[basename(combinations$path[1])]] %>%
model_simp()
View(model_results)
model_results <- results[[basename(combinations$path[100])]] %>%
model_simp()
model_results <- results[[basename(combinations$path[1000])]] %>%
model_simp()
model_results <- results[[basename(combinations$path[1000:10001])]] %>%
model_simp()
library(Maeswrap)
library(tidyverse)
model_results <- results[[basename(combinations$path[1000:10001])]] %>%
model_simp()
results[[basename(combinations$path[1000])]]
data <- model_simp(results[["H15_V0.25_L2.916_F1.5_S1"]])
plotting_f(d = data, foc = 1.5)
View(model_results)
data %>% add_column(fpc = 0)
data %>% mutate(foc = 0)
data %>% mutate(foc = t_h)
data %>% mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762))
data %>% mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762)) %>%
replace_na(list(foc = 0))
data %>% mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762)) %>%
replace_na(list(foc = 0)) %>%
replace_na(replace = list(foc = >0))
data %>% mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762)) %>%
replace_na(list(foc = 0)) %>%
replace_na(replace = list(foc > 0))
data <- model_simp(results[["H15_V0.25_L2.916_F1.5_S1"]])
data %>% mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762)) %>%
replace_na(list(foc = 0)) %>%
replace_na(replace = list(foc < 0))
data %>% mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762)) %>%
replace_na(list(foc = 0))
data <- model_simp(results[["H15_V0.25_L2.916_F1.5_S1"]])
data <- data %>%
mutate(foc = t_h) %>%
replace_na(replace = list(foc = 15*1.5 + 6.359762)) %>%
replace_na(list(foc = 0))
View(data)
15* 1.5 + 6.359762
data <- data %>%
mutate(foc = t_h) %>%
replace_na(replace = list(foc = 28.85976)) %>%
replace_na(list(foc = 0))
data <- data %>%
mutate(foc = t_h) %>%
replace_na(replace = list(foc = 28.85976))
replace_na(replace = list(foc = 28.85976))
replace_na(data, replace = list(foc = 28.85976))
data <- replace_na(data, replace = list(foc = 28.85976))
data <- data %>%
mutate(foc = t_h) %>%
replace_with_na(replace = list(foc = 28.85976))
data <- data %>%
mutate(foc = t_h) %>%
naniar::replace_with_na(replace = list(foc = 28.85976))
install.packages("naniar")
library(naniar)
data[data != 28.85976] <- NA
data[data$foc != 28.85976] <- NA
data$foc[data$foc != 28.85976] <- NA
data <- model_simp(results[["H15_V0.25_L2.916_F1.5_S1"]])
data <- data %>%
mutate(foc = t_h)
data <- model_simp(results[["H15_V0.5_L2.916_F1.5_S1"]])
data <- data %>%
mutate(foc = t_h)
data$foc[data$foc != 15*1.5 + 6.359762] <- NA
data <- data %>%
replace_na(list(foc = 0))
data <- data %>%
replace_na(list(foc = 0.0))
data <- model_simp(results[["H15_V0.5_L2.916_F1.5_S1"]])
data <- data %>%
mutate(foc = t_h)
data$foc[data$foc != 15 * 1.5 + 6.359762] <- NA
data <- data %>%
replace_na(list(foc = 0.0))
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0)
data_f <- data %>%
mutate(foc = t_h)
data_f$foc[data$foc != 15 * 1.5 + 6.359762] <- NA
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0)
View(data_f)
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0) %>%
muatate(name =H15_V0.5_L2.916_F1.5_S1)
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0) %>%
mutate(name = H15_V0.5_L2.916_F1.5_S1)
data <- model_simp(results[["H15_V0.5_L2.916_F1.5_S1"]])
data_f <- data %>%
mutate(foc = t_h)
data_f$foc[data$foc != 15 * 1.5 + 6.359762] <- NA
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0) %>%
mutate(name = 0)
data_f$foc[data$foc != 15 * 1.5 + 6.359762] <- NA
data_f <- data %>%
mutate(foc = t_h)
data_f$foc[data$foc != 15 * 1.5 + 6.359762] <- NA
data <- model_simp(results[["H15_V0.5_L2.916_F1.5_S1"]])
data_f <- data %>%
mutate(foc = t_h)
data_f$foc[data_f$foc != 15 * 1.5 + 6.359762] <- NA
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0) %>%
mutate(name = 0)
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0) %>%
mutate(name = H15_V0.5_L2.916_F1.5_S1)
data_f <- data_f %>%
replace_na(list(foc = 0)) %>%
filter(foc > 0) %>%
mutate(name = "H15_V0.5_L2.916_F1.5_S1")
data_f <- data %>%
mutate(foc = t_h) %>%
replace_na(list(foc = 0)) %>%
filter(foc = 15 * 1.5 + 6.359762) %>%
mutate(name = "H15_V0.5_L2.916_F1.5_S1")
data_f <- data %>%
mutate(foc = t_h) %>%
replace_na(list(foc = 0)) %>%
filter(foc == 15 * 1.5 + 6.359762) %>%
mutate(name = "H15_V0.5_L2.916_F1.5_S1")
foc_tree <- function(d, foc, n) {
df <- d %>%
mutate(focal_tree = t_h) %>%
replace_na(list(focal_tree = 0)) %>%
filter(focal_tree == 15 * 1.5 + 6.359762) %>%
mutate(name = n)
}
foc_tree <- function(d, foc, n) {
df <- d %>%
mutate(focal_tree = t_h) %>%
replace_na(list(focal_tree = 0)) %>%
filter(focal_tree == 15 * 1.5 + 6.359762) %>%
mutate(name = n)
}
df <- foc_tree(data, 1.5, "H15_V0.5_L2.916_F1.5_S1")
View(df)
model_simp <- function(data) {
df <- data %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
data <- model_simp(results[["H15_V0.5_L2.916_F1.5_S1"]])
plotting_f(d = data, foc = 1.5)
plotting(d = data, foc = 1.5)
data <- model_simp(results[["H15_V0.5_L2.916_F1.99_S1"]])
data <- model_simp(results[["H15_V0.5_L2.916_F1.99_S1"]])
plotting_f(d = data, foc = 1.99)
plotting(d = data, foc = 1.99)
data <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]])
plotting_f(d = data, foc = 1.99)
plotting(d = data, foc = 1.99)
plotting_f(d = data, foc = 1.99)
model_simp <- function(data, foc) {
df <- data %>%
mutate(t_h = htcrown + httrunk) %>%
filter(t_h == 15*foc + 6.359762) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
data <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]])
data <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]], 1.99)
View(data)
model_simp <- function(data, foc) {
df <- data %>%
mutate(t_h = htcrown + httrunk) %>%
filter(t_h != 15*foc + 6.359762) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
data <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]], 1.99)
View(data)
plotting(d = data, foc = 1.99)
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h)
library(Maeswrap)
library(tidyverse)
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea))
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h)
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h)
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea), focal = focal) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
#need to add focal column here
model_simp <- function(data) {
df <- results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea), focal = focal) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
data <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]])
View(data)
#need to add focal column here
model_simp <- function(data) {
df <- results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
at <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]])
View(at)
#need to add focal column here
model_simp <- function(data) {
df <- results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h, focal) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
data <- model_simp(results[["H15_V0.25_L2.916_F1.99_S1"]])
View(data)
data <- model_simp(results[["H15_V0.5_L2.916_F1.99_S1"]])
View(data)
data <- model_simp(results[["H15_V0.75_L2.916_F1.99_S1"]])
View(data)
model_simp <- function(data) {
df <- data %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h, focal) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
data <- model_simp(results[["H15_V0.75_L2.916_F1.99_S1"]])
results[["H15_V0_L2.916_F1.99_S1"]] %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h, focal) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
model_simp <- function(data) {
df <- data %>%
mutate(t_h = htcrown + httrunk) %>%
arrange(desc(t_h)) %>%
group_by(t_h, focal) %>%
summarise(larea = sum(larea)) %>%
ungroup() %>%
arrange(desc(t_h)) %>%
mutate(
lai = cumsum(larea)/10204,
light_ft = exp(-0.5*lai),
lai_ppa = floor(lai),
light_ppa = exp(-0.5*lai_ppa))
}
View(combinations)
data <- model_simp(results[["H15_V0.1_L5.485_F1.35_S2"]])
View(data)
data <- model_simp(results[["H15_V0.1_L5.485_F1.99_S2"]])
View(data)
plotting <- function(d, foc) {
df <-
bind_rows(d, d %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og"))
df_foc <- df %>%
filter(focal != "TRUE", new == "og")
ggplot(data = df, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
}
plotting(d = data, foc = 1.99)
df <-
bind_rows(data, data %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og"))
df_foc <- df %>%
filter(focal == "TRUE", new == "og")
ggplot(data = df, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
plotting <- function(d) {
df <-
bind_rows(d, d %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og")) %>%
filter(focal == "FALSE")
df_foc <- df %>%
filter(focal == "TRUE", new == "og")
ggplot(data = df, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
}
plotting(d = data, foc = 1.99)
plotting(d = data)
df <-
bind_rows(data, data %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og")) %>%
filter(focal == "FALSE")
View(df)
df_foc <- df %>%
filter(focal == "TRUE", new == "og")
View(df_foc)
View(data)
plotting <- function(d) {
df <-
bind_rows(data, data %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og"))
df_n_foc <- df %>%
filter(focal == "FALSE")
df_foc <- df %>%
filter(focal == "TRUE", new == "og")
ggplot(data = df, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
}
plotting <- function(d) {
df <-
bind_rows(d, d %>% mutate(t_h = lead(t_h), new = "new")) %>%
arrange(desc(t_h)) %>%
replace_na(list(new = "og"))
df_n_foc <- df %>%
filter(focal == "FALSE")
df_foc <- df %>%
filter(focal == "TRUE", new == "og")
ggplot(data = df_n_foc, aes(t_h, light_ft)) +
geom_line(colour='green') +
geom_line(aes(t_h, light_ppa), colour='blue') +
geom_point(data = df_foc, aes(t_h, light_ft), colour='red') +
geom_point(data = df_foc, aes(t_h, light_ppa), colour='orange')
}
plotting(d = data)
