tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = PAR/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
floor(9.800078e-05)
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
df <- load_trees(path = "simulations/1")
data_f <- model_simp_f(df)
data_f
L_ft = data_f %>%
pull(lai)
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
df <- load_trees(path = "simulations/1")
data_f <- model_simp_f(df)
data_f
PAR_hour <- c(0.004657534, 0.007123288, 0.004109589, 0.004931507, 0.0630137, 30.73945, 160.7816, 412.2556, 721.6304,
993.4989, 1166.151, 1239.936, 1199.67, 1106.995, 887.2534, 675.4101, 398.6479, 177.2134, 43.61918,
1.04411, 0.004657534, 0.003287671, 0.005753425, 0.004109589)#mu m-2 s-1
L_ft = data_f %>%
pull(lai)
data_f
L_ft
PAR_calculator_ld <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
PAR = rep(PAR_inst, 3600),
absPAR = PAR*exp(-0.5*L_ft),
W = absPAR/2.02,
MJ = W*0.0036,
tree = MJ*1
)
PAR_calculator_ld <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
PAR_i = rep(PAR_inst, 3600),
absPAR = PAR_i*exp(-0.5*L_ft),
W = absPAR/2.02,
MJ = W*0.0036,
tree = MJ*1
)
PAR_inst = met$PAR
PAR_inst
PAR_calculator_ld <-
tibble(
PAR_i = rep(PAR_inst, 3600),
absPAR = PAR_i*exp(-0.5*L_ft),
W = absPAR/2.02,
MJ = W*0.0036,
tree = MJ*1
)
PAR_calculator_ld
sum(PAR_calculator_ld$tree)
View(PAR_calculator_ld)
mean(PAR_calculator_ld$tree)
df
PAR_calculator_ld <-
tibble(
PAR_i = rep(PAR_inst, 3600),
absPAR = PAR_i*exp(-0.5*L_ft),
W = absPAR/2.02,
MJ = W*0.0864,
tree = MJ*1
)
mean(PAR_calculator_ld$tree)
tibble(
PAR_inst = met$PAR,
time = met$TIME)
library(Maeswrap)
library(tidyverse)
tibble(
PAR_inst = met$PAR,
time = met$TIME)
mutate(
delta_t = c(diff(time[1:2]), diff(time)))
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)))
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft))
L_ft
floor(L_ft)
round(L_ft)
data_f
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft))
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02)
PAR_calculator_ld <-
tibble(
PAR_i = rep(PAR_inst, 3600),
absPAR = PAR_i*exp(-0.5*L_ft),
W = absPAR/4.6,
MJ = W*0.0864,
tree = MJ*1
)
sum(PAR_calculator_ld$tree)
PAR_calculator_ld <-
tibble(
PAR_i = rep(PAR_inst, 3600),
absPAR = PAR_inst*exp(-0.5*L_ft),
W = absPAR/4.6,
MJ = W*0.0864,
tree = MJ*1
)
PAR_calculator_ld <-
tibble(
absPAR = PAR_inst*exp(-0.5*L_ft),
W = absPAR/4.6,
MJ = W*0.0864,
tree = MJ*1
)
sum(PAR_calculator_ld$tree)
mean(PAR_calculator_ld$tree)
L_ft
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02), #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
View(PAR_calculator)
la = 1
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
)
sum(PAR_calculator$MJ)
sum(PAR_calculator$MJ)
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
)
sum(PAR_calculator$MJ)
library(Maeswrap)
library(tidyverse)
df <- load_trees(path = "simulations/1")
data_f <- model_simp_f(df)
L_ft = data_f %>%
pull(lai)
df
data_f
L_ft = data_f %>%
pull(lai)
L_ft
la = 0.5
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
la
delta_t
time = met$TIME
delta_t = c(diff(time[1:2]), diff(time))
delta_t
View(results[["H15_V0_L0.466_F1.99_S1"]])
df <- load_trees(path = "simulations/1")
results[["H15_V0_L0.466_F1.99_S1"]]
data_f <- model_simp_f(df)
L_ft = data_f %>%
pull(lai)
la = 1
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
df <- load_trees(path = "simulations/1")
data_f <- model_simp_f(df)
L_ft = data_f %>%
pull(lai)
la = 2
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = sum(MJ*delta_t)*la) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*1.6533) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*0.77069) #MJ PAR tree-1 day-1
PAR_calculator
MJ
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
)
PAR_calculator
sum(PAR_calculator$MJ)
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*(5.5567/7.210991)) #MJ PAR tree-1 day-1
PAR_calculator
5.5567/7.210991
10.9873/14.42
la = 1
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*(5.5567/7.210991)) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*(0.7)) #MJ PAR tree-1 day-1
PAR_calculator
df <- load_trees(path = "simulations/1")
data_f <- model_simp_f(df)
L_ft = data_f %>%
pull(lai)
la = 20
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*(5.5567/7.210991)) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator
5.5567/7.210991
df <- load_trees(path = "simulations/1")
data_f <- model_simp_f(df)
la = 47.62
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*0.4743528148) #MJ PAR tree-1 day-1
PAR_calculator
data_f <- model_simp_f(results[["H15_V0.5_L5.485_F0.15_S1"]])
L_ft = data_f %>%
filter(focal == "TRUE") %>%
pull(lai)
L_ft
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)*0.4743528148) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/4.6, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)) #MJ PAR tree-1 day-1
PAR_calculator
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la)) #MJ PAR tree-1 day-1
PAR_calculator
results_f <- map(results, model_simp_f())
results_f <- map(results, model_simp_f(results))
results_f <- purrr::map(results, model_simp_f(results))
View(results[["H15_V0_L0.466_F1.99_S1"]])
data_nf <- model_simp_nf(results[["H15_V0.5_L1.488_F0.01_S2"]])
data_nf
results_f <- purrr::map(results, model_simp_f())
results_f <- results %>%
purrr::map(model_simp_f)
View(results_f)
View(results_f[["H15_V0_L0.466_F1.99_S1"]])
results_nf <- results %>%
purrr::map(model_simp_nf)
data_f <- results_f[["H15_V0.5_L5.485_F0.15_S1"]]
data_f
View(results_f[["H15_V0_L0.466_F1.85_S2"]])
View(results_f[["H15_V0.5_L2.916_F1_S2"]])
View(results_f[["H15_V0_L5.485_F1.35_S3"]])
View(results_f[["H15_V0_L4.402_F0.5_S1"]])
View(results_f[["H15_V0_L1.488_F1.75_S2"]])
PAR_calculator <- function(data, indi_la = 47.62) {
met <- readmet(filename = "met.dat", nlines = -1)
la = indi_la
L_ft = data %>%
filter(focal == "TRUE") %>%
pull(lai)
PAR_calculator <-
tibble(
PAR_inst = met$PAR,
time = met$TIME) %>%
mutate(
delta_t = c(diff(time[1:2]), diff(time)),
absPAR_inst = PAR_inst*exp(-0.5*L_ft),#mu PAR m-2 s-1
W = absPAR_inst/2.02, #W PAR m-2 eqn 38 from paper
MJ = W*0.0036 #MJ PAR m-2 h-1 eqn 12 from paper
) %>%
summarise(tree = (sum(MJ*delta_t)*la))
}
data_f <- results_f[["H15_V0.5_L5.485_F0.15_S1"]]
df <- PAR_calculator(data_f)
df
